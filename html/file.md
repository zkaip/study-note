HTML5 File & FileSystem
===
### File API
- File - 独立文件；提供只读信息，例如名称、文件大小、mimetype 和对文件句柄的引用。
- FileList - File 对象的类数组序列（考虑 <input type="file" multiple> 或者从桌面拖动目录或文件）。
- Blob - 可将文件分割为字节范围。

**目前IE不支持**

### FileSystem API
- 读取处理文件: `File/Blob` `FileList` `FileReader`
- 创建写入: `BlobBuilder` `FileWriter`
- 目录和文件系统访问: `DirectoryReader` `FileEntry/DirectoryEntry` `LocalFileSystem`

目前只有`Chrome`和`Opera`支持

### 应用
- 持久型上传器
  - 选中要上传的文件或目录后，系统会将文件复制到本地沙盒并批次上传。
  - 即使发生浏览器崩溃、网络中断等状况，也可在之后重新开始上传。
- 视频游戏、音乐或其他具有大量媒体资产的应用
  - 下载一个或几个大的压缩包，然后将其本地解压缩到目录结构。
  - 任何操作系统均可使用相同的下载模式。
  - 对预先抓取即将使用的资产的功能进行后台管理，因此转到下一个游戏级别或激活新功能无需等待下载过程。
  - 直接读取文件或将本地 URI 移交至图片标记、视频标记、WebGL 资产加载器等，从而直接通过本地缓存使用这些资产。
  - 文件可使用任意二进制格式。
  - 在服务器端，压缩后的压缩包通常远远小于单独压缩的文件合集。另外，在其他条件相同的情况下，1 个压缩包涉及的搜索将小于 1000 个小文件。
- 可使用离线访问权限或本地存储的高速音频/照片编辑器
  - 数据 Blob 很可能是可读写的超大文件。
  - 可能需要向文件写入局部内容（例如，仅覆盖 ID3/EXIF 标记）。
  - 通过创建目录来整理项目文件这一功能非常有用。
  - 修改后的文件应可供客户端应用 [iTunes、Picasa] 访问。
- 离线视频观看者
  - 下载大文件（1 GB 以上）以供今后观看。
  - 需要有效的搜索和流式传输。
  - 必须能够将 URI 移交至视频标记。
  - 应该允许访问部分下载的文件，例如即使您在登机前尚未完成下载，也可以观看 DVD 的第一集。
  - 应该能够在下载期间抽取单个剧集，然后将该剧集单独移交至视频标记。
- 离线网络右键客户端
  - 下载并本地存储附件
  - 缓存用户选择的附件以供今后上传。
  - 需要能够引用缓存的附件和图片缩略图以供展示和上传。
  - 应该能够像与服务器交谈一样触发 UA 的下载管理器。
  - 应该能够将带附件的电子邮件视作由多个部分组成的邮件进行上传，而不是通过 XHR 一次发送一个文件。

### 参考
- [探索 FileSystem API](http://www.html5rocks.com/zh/tutorials/file/filesystem/)
- [通过 File API 使用 JavaScript 读取文件](http://www.html5rocks.com/zh/tutorials/file/dndfiles/)
- [使用File API 异步上传文件](http://www.moye.me/2014/11/05/html5-filereader/)


